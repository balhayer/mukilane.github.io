var config={apiKey:"AIzaSyD8Jyc_TJwBwAwmkN8ETzUXKPWLiXGsEn0",authDomain:"mukilane.github.io",databaseURL:"https://mukil-elango.firebaseio.com",projectId:"mukil-elango",storageBucket:"mukil-elango.appspot.com",messagingSenderId:"771554923359"};firebase.initializeApp(config);var firestore=firebase.firestore(),settings={timestampsInSnapshots:!0};firestore.settings(settings);var app=angular.module("port",["ngMaterial","ngAnimate","firebase"]);
app.config(["$mdThemingProvider","$interpolateProvider","$httpProvider","$compileProvider","$locationProvider","$controllerProvider",function(a,d,b,c,e,f){app.controllerProvider=f;a.theme("default").accentPalette("blue");a.enableBrowserColor({theme:"default",palette:"background",hue:"50"});d.startSymbol("{*");d.endSymbol("*}");b.useApplyAsync(!0);c.debugInfoEnabled(!1);c.cssClassDirectivesEnabled(!1);c.commentDirectivesEnabled(!1);e.hashPrefix("")}]);
angular.module("port").controller("Assistant",["$scope","Conversation","$timeout",function(a,d,b){var c=new ApiAi.ApiAiClient({accessToken:"bd52bb26359c45ceb2da599fe21a94c9"});a.result="";a.query="";a.send=function(){""!==a.query&&c.textRequest(a.query).then(function(b){a.parse(b.result);a.query=""}).catch(function(a){return console.log(a)})};a.parse=function(c){switch(c.action){case "portfolio":d("Transporting you to my portfolio");b(pjax.invoke("/portfolio/","main"),2E3);break;case "resume":d("Opening my resume");
b(window.open("https://goo.gl/zajpYF","_blank"),2E3);break;case "navigate":d("Transporting!");b(a.transport(c.parameters.page),2E3);break;case "smalltalk.greetings.bye":d(c.fulfillment.speech);a.showAssist=!1;break;case "smalltalk.agent.acquaintance":d("I'm Mukil. Know more about me here");b(a.transport("about"),1E3);break;case "blog.newposts":d(c.fulfillment.speech);b(a.transport("blog"),1E3);break;default:d(c.fulfillment.speech)}};a.transport=function(a){if(-1!=="blog about portfolio contact certificates home".split(" ").indexOf(a)){var b=
"/"+a+"/";"home"===a&&(b="/");pjax.invoke(b,"main")}else d("Sorry, the page does not exist")}}]);
app.controller("ContactCtrl",["$scope","Panel","ContactService",function(a,d,b){a.showForm=!1;a.isNewForm=!0;a.data={email:"",password:""};a.user={};a.createUser=function(){firebase.auth().createUserWithEmailAndPassword(a.data.email,a.data.password).catch(function(a){})};a.signIn=function(){firebase.auth().signInWithEmailAndPassword(a.data.email,a.data.password).catch(function(a){})};a.signout=function(){firebase.auth().signOut().then(function(){a.showForm=!1}).catch(function(a){})};a.newForm=function(){d("/assets/contactform");
b.setForm(!1)};a.existingForm=function(){d("/assets/contactform");b.setForm(!0)};firebase.auth().onAuthStateChanged(function(c){c&&(a.showForm=!0,a.user=c,b.isNewForm().then(function(b){return a.isNewForm=b}))})}]);
app.controller("ContactFormCtrl",["$scope","ContactService","$timeout","Toast",function(a,d,b,c){a.existingForm=d.useExistingForm();a.contact={};a.forms=[];a.selectedForm={};d.getForms().then(function(b){return a.forms=b});a.selectForm=function(){console.log(a.contact.id);d.selectForm(a.contact.id)};a.submit=function(b){d.update(a.contact).then(function(){console.log("set out");c("Done. Reply soon!");b()})}}]);
app.service("ContactService",["$timeout",function(a){var d=null,b={},c=null,e=null,f=!1,h=[],g=!0;return{isNewForm:function(){c=firebase.auth().currentUser;e=firestore.collection("contacts").doc(c.uid);return e.get().then(function(a){b=a.data();return 0<b.formCount?g=!1:g=!0})},selectedForm:d,selectForm:function(a){d=a;console.log(d)},update:function(a){var c=null,f=new Date;g?(c=e.collection("forms").doc(),b.formCount+=1,b.formList.push({id:c.id,title:a.title,timestamp:f})):c=e.collection("forms").doc(d);
e.set({formCount:b.formCount,formList:b.formList},{merge:!0}).then(function(){console.log("set")});a.timestamp=f;a.id=c.id;delete a.$$hashKey;delete a.$$mdSelectId;return c.set(a,{merge:!0})},setForm:function(a){g=!a;f=a},useExistingForm:function(){return f},getForms:function(){h=[];return e.collection("forms").get().then(function(a){a.forEach(function(a){h.push(a.data())});return h})}}}]);
app.controller("feedback",["$scope","$firebaseObject","$firebaseAuth","Dialog",function(a,d,b,c){var e=b();a.close=function(){c.close()};a.showMsg=!1;a.signIn=function(){a.showMsg=!0;a.firebaseUser=null;e.$signInAnonymously().then(function(b){a.firebaseUser=b}).catch(function(a){console.log("Error occured during sending")})};a.thumbs=function(a){};a.sendMsg=function(){firestore.collection("feedback").add({username:a.data.username,message:a.data.message,timestamp:new Date}).then(function(a){console.log("Document written with ID: ",
a.id);c.close()}).catch(function(a){console.error("Error adding document: ",a)})}}]);
app.controller("main",["$scope","$interval","$window","Toast","$sce","Dialog",function(a,d,b,c,e,f){a.gridLay=!0;a.showAssist=!1;localStorage.getItem("theme")?(a.isDark=!0,a.theme={bg:"grey-800",footer:"grey-700"}):(a.isDark=!1,a.theme={bg:"grey-A100",footer:"grey-A100"});a.setDark=function(b){(a.isDark=b)?(localStorage.setItem("theme","dark"),c("Dark theme activated","refresh")):(localStorage.removeItem("theme"),c("Light theme activated","refresh"))};a.isHomePage=function(){return"/"===window.location.pathname?
!0:!1};a.navigate=function(b){pjax.invoke(b,"main");a.hideHomeButton=a.isHomePage()};a.hideHomeButton=a.isHomePage();a.counter=0;a.adjective="A Web Developer;A Programmer;Google Play Rising Star;Loves OpenSource;A Linux Admin;Elon Musk Fan;Philomath;Tech Enthusiast".split(";");d(function(){7>a.counter?a.counter++:a.counter=0},5E3);b.addEventListener("offline",function(){c("You're Offline. Serving from cache!",!1);b.addEventListener("online",function(a){c("You're Online now !","ok")},{once:!0,capture:!1})},
!1);a.trust=function(a){e.trustAsUrl(a)};a.show=function(b){1==a.gridLay&&(a.gridLay=!1,navigator.onLine||c("You're offline. Serving from cache!"))};a.showDlg=function(a){f.show("feedback",a)};a.go=function(a){b.location.href=e.trustAsResourceUrl(a)}}]);
app.controller("notifications",["$scope","$firebaseObject","Toast",function(a,d,b){a.isNotificationEnabled=!1;localStorage.getItem("isNotificationEnabled")&&(a.isNotificationEnabled=!0);a.setEnabled=function(){localStorage.setItem("isNotificationEnabled","true");a.isNotificationEnabled=!0};var c=firebase.messaging();a.enableNotifications=function(){c.requestPermission().then(function(){b("Notifications are enabled");a.setEnabled();a.getToken()}).catch(function(a){console.log(a);b("Notifications blocked!. To enable, go to site settings.")})};
a.getToken=function(){c.getToken().then(function(a){if(a){var b=[];firebase.firestore().collection("users").doc("data").get().then(function(c){b=c.data().notificationTokens;b.push(a);firebase.firestore().collection("users").doc("data").update({notificationTokens:b})})}})};c.onMessage(function(a){return b(a)})}]);app.controller("search",["$scope","$firebaseObject",function(a,d){a.posts=[];firebase.database().ref("data/posts").once("value").then(function(b){b=b.val();angular.forEach(b,function(b){a.posts.push(b)})})}]);
app.controller("share",["$scope","Dialog","Toast","$mdMedia","$mdBottomSheet",function(a,d,b,c,e){a.link=window.location.href;a.title=angular.element(window.document)[0].title;a.Toast=b;a.openShare=function(a){1==c("xs")?e.show({templateUrl:"/assets/sharebtm-template.html",clickOutsideToClose:!0,controller:"share"}):d.show("share",a)};a.closeShare=function(){d.close()}}]);
app.controller("ProjectCtrl",["Panel","$scope","$http",function(a,d,b){var c=location.protocol+"//"+location.host;d.show=function(b){a("/project/"+b)};d.filter="";d.categories=["hardware","frontend","native"];d.projects=[];b.get(c+"/assets/projects.json").then(function(a){for(project in a.data)d.projects.push(a.data[project])})}]);
app.controller("BlogCtrl",["$scope","$http",function(a,d){var b=location.protocol+"//"+location.host;a.posts=[];a.filter="";a.categories=["events"];d.get(b+"/assets/posts.json").then(function(b){for(post in b.data)a.posts.push(b.data[post])});a.navigate=function(b){pjax.invoke(a.posts[b].url,"main")}}]);app.controller("HdocCtrl",["$scope","$http","$anchorScroll","$location",function(a,d,b,c){a.scrollTo=function(a){a="day"+a;c.hash()!==a?c.hash(a):b()}}]);
app.directive("calendar",["$mdSticky","$compile",function(a,d){return{restrict:"E",templateUrl:"/assets/calendar.html",link:function(b,c){a(b,c)}}}]);app.directive("tile",function(){return{restrict:"E",transclude:!0,template:"\x3cdiv class\x3d'tile-wrap' style\x3d'background-image: url({{::image}}); opacity: {{::opacity}}; background-position: {{::pos}}; background-size: {{::size}}' ng-transclude\x3e\x3c/div\x3e",scope:{image:"@",opacity:"@",pos:"@",size:"@"}}});
app.directive("imageTile",function(){return{restrict:"E",transclude:!0,template:"\x3cdiv class\x3d'tile-wrap' style\x3d'background-image: url({{::image}}); opacity: {{::opacity}}; background-position: {{::pos}}; background-size: {{::size}}'\x3e\x3cdiv class\x3d'image-tile' ng-transclude\x3e\x3c/div\x3e\x3c/div\x3e",scope:{image:"@",opacity:"@",pos:"@",size:"@"}}});
app.directive("tileImage",function(){return{restrict:"E",template:"\x3cimg ng-src\x3d'{{::source}}' style\x3d'opacity:{{::opacity}}; width: {{::width}};'/\x3e",scope:{source:"@",opacity:"@",width:"@"}}});app.directive("tileHeader",function(){return{restrict:"E",transclude:!0,template:"\x3cspan class\x3d'tile-title' ng-transclude\x3e\x3c/span\x3e\x3cbr/\x3e\x3cspan style\x3d'opacity: 0.67; margin-top: 4px;'\x3e{{::tag}}\x3c/span\x3e",scope:{name:"@",tag:"@"}}});
app.directive("tileFooter",function(){return{restrict:"E",transclude:!0,template:"\x3cdiv layout\x3d'row' layout-align\x3d'space-between center'\x3e\x3cspan class\x3d'md-subhead' ng-transclude\x3e\x3c/span\x3e\x3cspan\x3e\x3ci class\x3d'material-icons'\x3echevron_right\x3c/i\x3e\x3c/div\x3e",scope:{external:"@"}}});
app.directive("articleImage",function(){return{restrict:"E",template:"\x3cdiv style\x3d'background: #F3F3F3; text-align: center; float: {{::pos}}; margin: {{::margin}}; background: {{::bg}}'\x3e\x3cimg ng-src\x3d'{{::source}}' alt\x3d'{{::alt}}' width\x3d{{::width}} height\x3d{{::height}}/\x3e\x3cdiv class\x3d'md-caption'\x3e {{::alt}}\x3c/div\x3e\x3c/div\x3e",scope:{source:"@",width:"@",pos:"@",alt:"@",bg:"@"},link:function(a){a.margin="left"==a.pos?"0 24px 24px 0":"right"==a.pos?"0 0 24px 24px":
"24px 0 24px 0"}}});
app.directive("pjaxNav",["$compile",function(a){return{restrict:"A",link:function(d,b){b.bind("beforeSend",function(a){d.trust(a.data.url);a=angular.element(document.getElementById("content"));a.removeClass("fade-up");a.addClass("fade-down");a=angular.element(document.getElementsByClassName("banner"));a.removeClass("fade-right");a.addClass("fade-left")});b.bind("success",function(c){a(b.contents())(d);c=angular.element(document.getElementById("content"));c.removeClass("fade-down");c.addClass("fade-up");
c=angular.element(document.getElementsByClassName("banner"));c.removeClass("fade-left");c.addClass("fade-right")});b.bind("error",function(){pjax.invoke("/404/","main");a(b.contents())(d)})}}}]);app.directive("shortcut",["$document",function(a){return{restrict:"A",controller:"main",link:function(d,b,c,e){a.bind("keypress",function(a){47==a.which&&"INPUT"!=a.target.nodeName&&(d.$apply(c.shortcut),a.preventDefault())})}}}]);
app.factory("Conversation",["$mdToast","$window",function(a,d){return function(b){b=a.simple().textContent(b).capsule(!0).parent(document.querySelectorAll(".assist-bar")).hideDelay(4E3).toastClass("assist-toast").position("top right");a.show(b)}}]);
app.factory("Toast",["$mdToast","$window",function(a,d){return function(b,c){""!==c?(b=a.simple().textContent(b).action(c).highlightAction(!0),a.show(b).then(function(b){if("ok"==b)switch(c){case "refresh":d.location.reload();break;case "ok":a.hide()}},function(a){angular.noop()})):a.showSimple(b)}}]);
app.factory("Dialog",["$mdDialog","Toast",function(a,d){return{show:function(b,c){a.show({templateUrl:"/assets/"+b+"-template.html",parent:angular.element(document.body),targetEvent:c,controller:b,clickOutsideToClose:!0})},close:function(){a.cancel()}}}]);
app.factory("Panel",["$mdPanel",function(a){function d(a){this.close=function(){a&&a.close().then(function(){a.destroy()})}}d.$inject=["mdPanelRef"];return function(b){this._mdPanel=a;b+=".html";var c=this._mdPanel.newPanelPosition().absolute().center(),e=this._mdPanel.newPanelAnimation().withAnimation(this._mdPanel.animation.SLIDE);e.openFrom({top:document.documentElement.clientHeight,left:0});e.closeTo({top:document.documentElement.clientHeight,left:0});e.duration({open:500,close:300});b={animation:e,
attachTo:angular.element(document.body),controller:d,controllerAs:"ctrl",disableParentScroll:this.disableParentScroll,templateUrl:b,hasBackdrop:!0,panelClass:"modal-container",position:c,trapFocus:!0,zIndex:150,clickOutsideToClose:!0,escapeToClose:!0,focusOnOpen:!0};this._mdPanel.open(b)}}]);app.filter("capitalize",function(){return function(a){return a?a.charAt(0).toUpperCase()+a.substr(1).toLowerCase():""}});
"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(function(a){var d=angular.element(document.getElementById("ctrl")).injector().get("Toast");a.onupdatefound=function(){var b=a.installing;b.onstatechange=function(){switch(b.state){case "installed":navigator.serviceWorker.controller?d("New content available","refresh"):d("Content cached for offline use","ok");break;case "redundant":console.error("[SW] The installing service worker became redundant.")}}}}).catch(function(a){console.error("[SW] Error during service worker registration:",
a)});